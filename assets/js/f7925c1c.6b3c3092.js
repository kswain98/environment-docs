"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[975],{75:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var i=t(4848),s=t(8453);const r={sidebar_position:3},o="Smart Agent",a={id:"tutorial-extras/smart_agent",title:"Smart Agent",description:"Create and control intelligent agents that can navigate, interact with objects, and collaborate to complete tasks in your virtual environments.",source:"@site/docs/tutorial-extras/smart_agent.md",sourceDirName:"tutorial-extras",slug:"/tutorial-extras/smart_agent",permalink:"/environment-docs/docs/tutorial-extras/smart_agent",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-extras/smart_agent.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"RL",permalink:"/environment-docs/docs/tutorial-extras/rl"},next:{title:"Environment Capture",permalink:"/environment-docs/docs/tutorial-extras/environment_capture"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Creating Agents",id:"creating-agents",level:2},{value:"Basic Setup",id:"basic-setup",level:3},{value:"Agent Configuration",id:"agent-configuration",level:3},{value:"Allowed Actions",id:"allowed-actions",level:2},{value:"Multi-Agent Coordination",id:"multi-agent-coordination",level:2},{value:"Creating Multiple Agents",id:"creating-multiple-agents",level:3},{value:"Collaboration Rules",id:"collaboration-rules",level:3},{value:"Goal-Based Tasks",id:"goal-based-tasks",level:2},{value:"Setting Goals",id:"setting-goals",level:3},{value:"Goal Types",id:"goal-types",level:3},{value:"Environment Observation",id:"environment-observation",level:2},{value:"Getting Environment Data",id:"getting-environment-data",level:3},{value:"Object Properties",id:"object-properties",level:3},{value:"Complete Example: Escape Room",id:"complete-example-escape-room",level:2},{value:"Agent Behavior",id:"agent-behavior",level:2},{value:"System Prompts",id:"system-prompts",level:3},{value:"Performance Tracking",id:"performance-tracking",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Debug Mode",id:"debug-mode",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"smart-agent",children:"Smart Agent"})}),"\n",(0,i.jsxs)(n.p,{children:["Create and control ",(0,i.jsx)(n.strong,{children:"intelligent agents"})," that can navigate, interact with objects, and collaborate to complete tasks in your virtual environments."]}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Agents are AI-powered characters that can:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate through environments using ",(0,i.jsx)(n.code,{children:"walk to"})," actions"]}),"\n",(0,i.jsxs)(n.li,{children:["Interact with objects using ",(0,i.jsx)(n.code,{children:"grab"}),", ",(0,i.jsx)(n.code,{children:"put"}),", ",(0,i.jsx)(n.code,{children:"putin"}),", ",(0,i.jsx)(n.code,{children:"open"}),", and ",(0,i.jsx)(n.code,{children:"close"})," actions"]}),"\n",(0,i.jsx)(n.li,{children:"Collaborate with other agents to complete complex tasks"}),"\n",(0,i.jsx)(n.li,{children:"Generate and execute action sequences based on goals"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating-agents",children:"Creating Agents"}),"\n",(0,i.jsx)(n.h3,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from interface.client import observation, render, set_action, make\nfrom llm import OpenAIBot\n\n# Create an agent\nagent = Agent(\n    agent_id=0,\n    agent_name="Alice",\n    api_key="your-api-key",\n    api_option="openai",\n    model="gpt-4o",\n    environment="EscapeRoom1"\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"agent-configuration",children:"Agent Configuration"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"agent_id"})," \u2192 unique identifier for the agent"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"agent_name"})," \u2192 human-readable name for the agent"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api_key"})," \u2192 API key for the LLM provider"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api_option"})," \u2192 LLM provider: ",(0,i.jsx)(n.code,{children:'"openai"'}),", ",(0,i.jsx)(n.code,{children:'"anthropic"'}),", ",(0,i.jsx)(n.code,{children:'"qwen"'}),", ",(0,i.jsx)(n.code,{children:'"deepseek"'})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"model"})," \u2192 specific model to use"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"environment"})," \u2192 environment name"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"allowed-actions",children:"Allowed Actions"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Action"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Format"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"walk to"})}),(0,i.jsx)(n.td,{children:"Move to a specific object"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent_0 walk to object_123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"grab"})}),(0,i.jsx)(n.td,{children:"Pick up an object"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent_0 grab object_123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"put"})}),(0,i.jsx)(n.td,{children:"Place object on surface"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent_0 put object_123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"putin"})}),(0,i.jsx)(n.td,{children:"Place object inside container"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent_0 putin object_123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"open"})}),(0,i.jsx)(n.td,{children:"Open a container or door"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent_0 open object_123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"close"})}),(0,i.jsx)(n.td,{children:"Close a container or door"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent_0 close object_123"})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"multi-agent-coordination",children:"Multi-Agent Coordination"}),"\n",(0,i.jsx)(n.h3,{id:"creating-multiple-agents",children:"Creating Multiple Agents"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Configure multiple agents\nagent_config = {\n    'num_agents': 2,\n    'agents': {\n        0: {'name': 'Alice', 'role': 'Primary task executor'},\n        1: {'name': 'Bob', 'role': 'Support assistant'}\n    }\n}\n\n# Create agents\nagents = {}\nfor agent_id, config in agent_config['agents'].items():\n    agent = Agent(agent_id=agent_id, agent_name=config['name'], ...)\n    agents[agent_id] = agent\n"})}),"\n",(0,i.jsx)(n.h3,{id:"collaboration-rules",children:"Collaboration Rules"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Task Division"}),": Agents focus on different areas and objects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Communication"}),": Agents observe each other's actions and coordinate"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Efficiency"}),": Avoid redundant actions and repetitive behaviors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Goal Sharing"}),": Work towards common objectives while maintaining individual roles"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"goal-based-tasks",children:"Goal-Based Tasks"}),"\n",(0,i.jsx)(n.h3,{id:"setting-goals",children:"Setting Goals"}),"\n",(0,i.jsx)(n.p,{children:"Agents work with goal states defined as tuples, you can either define them yourself in the prompt or let the agent define them itself using a built-in language model orchestrator."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Relation goals: (subject, relation, target): count\ngoals = {\n    ('keycard', 'on', 'card_reader'): 1,\n    ('milk', 'inside', 'refrigerator'): 2\n}\n\n# State goals: (object, 'state', state_type): count\ngoals = {\n    ('door', 'state', 'open'): 1,\n    ('refrigerator', 'state', 'closed'): 1\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"goal-types",children:"Goal Types"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Relation Goals"}),": Define spatial relationships between objects"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'on'"}),": Object placed on surface"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'inside'"}),": Object placed inside container"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"State Goals"}),": Define object states"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'open'"}),": Container or door is open"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'closed'"}),": Container or door is closed"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'switchon'"}),": Device is turned on"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'switchoff'"}),": Device is turned off"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"environment-observation",children:"Environment Observation"}),"\n",(0,i.jsx)(n.h3,{id:"getting-environment-data",children:"Getting Environment Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Get full environment observation\nobservation({"type": "full"})\n\n# Read the observation graph\nwith open(\'graph.json\', \'r\') as f:\n    data = json.load(f)\nenvironment_objects = data["EscapeRoom1"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"object-properties",children:"Object Properties"}),"\n",(0,i.jsx)(n.p,{children:"Each object has these properties:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," \u2192 unique object identifier"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sm_name"})," \u2192 object name in the 3D engine"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sm_transform"})," \u2192 position, rotation, and scale"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"relations"})," \u2192 relationships with other objects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sockets"})," \u2192 container capacity"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"states"})," \u2192 current object state"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"complete-example-escape-room",children:"Complete Example: Escape Room"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Set up environment\nenvironment_name = "EscapeRoom1"\nmake({"environment": environment_name})\n\n# Create multi-agent system\nuser_prompt = """I want 2 agents to escape from the room. Find the keycard and use it on the card reader to open the door. The keycard is in one of the containers in the room. The two agents should work together to find the keycard and open the door, while not focus on the same container."""\n\n# Run multi-agent experiment\nmetrics = run_multi_agent_experiment(\n    user_prompt=user_prompt,\n    api_key="your-api-key",\n    api_option="openai",\n    model="gpt-4o",\n    environment=environment_name\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"agent-behavior",children:"Agent Behavior"}),"\n",(0,i.jsx)(n.h3,{id:"system-prompts",children:"System Prompts"}),"\n",(0,i.jsx)(n.p,{children:"Define agent behavior through system prompts:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'ALICE_PROMPT = """You are Alice, the primary AI assistant. You control agent_0 using these actions: walk to, grab, put, putin, open, close.\n\nRules:\n1. Don\'t repeat "walk to" if already near target\n2. Can only hold one object at a time\n3. Must grab before putting\n4. Open containers before putting things inside\n5. Use "put" for \'on\' relations and "putin" for \'inside\' relations\n6. Object IDs must be integers\n7. Avoid repeating the same action on the same object multiple times\n\nRespond with only the next action, no explanation needed."""\n'})}),"\n",(0,i.jsx)(n.h2,{id:"performance-tracking",children:"Performance Tracking"}),"\n",(0,i.jsx)(n.p,{children:"The system tracks agent performance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"metrics = {\n    'instruction_correct_rate': 0.85,    # Percentage of valid actions\n    'instruction_error_rate': 0.15,      # Percentage of invalid actions  \n    'instruction_effective_rate': 0.80,  # Percentage of successful actions\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clear Goals"}),": Define specific, achievable goals for agents"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Role Separation"}),": Give each agent distinct responsibilities"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),": Implement fallback actions for failed attempts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitoring"}),": Track agent performance and adjust strategies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Coordination"}),": Ensure agents communicate and avoid conflicts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Efficiency"}),": Minimize redundant actions and optimize task completion"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"debug-mode",children:"Debug Mode"}),"\n",(0,i.jsx)(n.p,{children:"Enable debug output to monitor agent behavior:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'agent = Agent(\n    agent_id=0,\n    agent_name="DebugAgent",\n    api_key=api_key,\n    debug=True  # Enable debug output\n)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);